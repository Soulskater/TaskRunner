<svg>
    <g class="item">
        <rect drag="onDragItem" drag-start="onDragStartItem" ng-width="width" ng-height="height" ng-x="data.x"
              ng-y="data.y"
              ng-class="{ selected: data.selected }"
              class="box" rx="2" ry="2" ng-click="itemClick({item: data, event: $event})">
        </rect>
        <!--Left connection-->
        <connector ng-repeat="property in inputs = (data.properties|filter:{direction:'input'})"
                   property="property"
                   px="data.x"
                   py="data.y+(height/(inputs.length + 1))*($index+1)"></connector>
        <!--Right connections-->
        <g ng-repeat="property in outputs = (data.properties|filter:{direction:'output'})">
            <connector property="property"
                       px="data.x + width"
                       py="data.y+(height/(outputs.length + 1))*($index+1)"></connector>
            <line ng-if="property.bind" ng-x1="data.x+width" ng-y1="data.y+(height/(outputs.length + 1))*($index+1)"
                  ng-x2="getItem(property).x" ng-y2="getItem(property).y" ng-class="property.type"/>
        </g>

        <!--Item text-->
        <foreignObject ng-x="data.x" ng-y="data.y" ng-width="width" ng-height="height">
            <div class="text-space m left top" ng-transclude>

            </div>
        </foreignObject>
    </g>
</svg>